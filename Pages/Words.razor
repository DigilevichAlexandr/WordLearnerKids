@page "/"

<PageTitle>Учим слова</PageTitle>

<h1 class="word">@currentWord</h1>

<button class="next-button" @onclick="NextWord">Следующее слово</button>

@code {
    private static readonly string[] vocabulary =
    [
        "Собака",
        "Кошка",
        "Машина",
        "Мяч",
        "Мама",
        "Папа",
        "Книга",
        "Дом",
        "Ложка",
        "Молоко"
    ];

    private readonly Random random = new();
    private int currentIndex = -1;
    private string currentWord = string.Empty;

    protected override void OnInitialized()
    {
        NextWord();
    }

    private void NextWord()
    {
        if (vocabulary.Length == 0)
        {
            currentWord = "Нет слов";
            return;
        }

        var nextIndex = currentIndex;
        while (vocabulary.Length > 1 && nextIndex == currentIndex)
        {
            nextIndex = random.Next(vocabulary.Length);
        }

        currentIndex = nextIndex;
        currentWord = vocabulary[currentIndex];
    }
}

